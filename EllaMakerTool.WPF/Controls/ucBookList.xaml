<UserControl x:Class="EllaMakerTool.WPF.ucBookList"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:EllaMakerTool.WPF"
             xmlns:converter="clr-namespace:EllaMakerTool.Converter;assembly=EllaMakerTool.Converter"
             xmlns:controls="http://www.ayjs.net/controls"
             xmlns:viewModels="clr-namespace:EllaMakerTool.WPF.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="1000">
    <UserControl.Resources>
        <converter:SvgToXamlConverter x:Key="SvgToXamlConverter" />
        <viewModels:MainWindow_Model x:Key="DesignVM" />
    </UserControl.Resources>
    <Grid>
        <DataGrid x:Name="dgfileBrowser" 
                  ItemsSource="{Binding BookListData,Mode=TwoWay}" CanUserResizeColumns="False"
                  BorderBrush="Transparent" CanUserAddRows="False" BorderThickness="0"
                  Style="{DynamicResource FileBroswerDataGridStyle}" HorizontalScrollBarVisibility="Visible"
                  VerticalScrollBarVisibility="Visible" GridLinesVisibility="Horizontal" MinRowHeight="44"
                  SelectionMode="Extended" SelectedItem="{Binding dgSelectBookItem,Mode=TwoWay}">
            <DataGrid.InputBindings>
                <MouseBinding Gesture="LeftDoubleClick" Command="{Binding CommandBookBrowserLeftDoubleClick}" />
            </DataGrid.InputBindings>
            <DataGrid.Columns>
                <!--ID-->
                <DataGridTemplateColumn Visibility="Collapsed" Width="auto" MinWidth="50">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel>
                                <Label Foreground="{DynamicResource BrowserFontSizeColor}"
                                       HorizontalContentAlignment="Center" Content="{Binding Isbn}" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <!--图书名称-->
                <DataGridTemplateColumn Width="*" MinWidth="200" Header="图书名称">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5 0 0 0" Orientation="Horizontal" VerticalAlignment="Center"
                                        HorizontalAlignment="Left" ToolTip="{Binding Name}">
                                <Label MinWidth="200" Content="{Binding Name}" HorizontalContentAlignment="Left" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Width="*" MinWidth="200" Header="所属书集">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5 0 0 0" Orientation="Horizontal" VerticalAlignment="Center"
                                        HorizontalAlignment="Left" ToolTip="{Binding BookSetName}">
                                <Label MinWidth="200" Content="{Binding BookSetName}" HorizontalContentAlignment="Left" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Width="*" MinWidth="200" Header="出版社">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5 0 0 0" Orientation="Horizontal" VerticalAlignment="Center"
                                        HorizontalAlignment="Left" ToolTip="{Binding PublisherName}">
                                <Label MinWidth="200" Content="{Binding PublisherName}" HorizontalContentAlignment="Left" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Width="*" MinWidth="200" Header="作者">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5 0 0 0" Orientation="Horizontal" VerticalAlignment="Center"
                                        HorizontalAlignment="Left" ToolTip="{Binding AuthorName}">
                                <Label MinWidth="200" Content="{Binding AuthorName}" HorizontalContentAlignment="Left" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <DataGridTemplateColumn Width="*" MinWidth="200" Header="动画书数量">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Margin="5 0 0 0" Orientation="Horizontal" VerticalAlignment="Center"
                                        HorizontalAlignment="Left" ToolTip="{Binding EBookCount}">
                                <Label MinWidth="200" Content="{Binding EBookCount}" HorizontalContentAlignment="Left" />
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
                <!--更新时间-->
                <!--<DataGridTemplateColumn Width="auto" MinWidth="200">
                    <DataGridTemplateColumn.Header>
                        <StackPanel>
                            <Label MinWidth="200" BorderBrush="{DynamicResource LineBrush}"
                                   HorizontalContentAlignment="Left" Content="更新时间"
                                   Foreground="{DynamicResource UserInfoForeground}"
                                   FontFamily="{DynamicResource FontFamily}" FontSize="13" />
                        </StackPanel>
                    </DataGridTemplateColumn.Header>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal">
                                <Label
                                    Content="{Binding CreateTime, ConverterParameter=yyyy-MM-dd HH:mm,Converter={x:Static converter:XConverter.DataTimeTostringConverter}}"
                                    Foreground="{DynamicResource BrowserFontSizeColor}" />
                                <controls:AyImageButton Style="{DynamicResource AyImageTransButtonStyle}" Width="100" 
                                                  Visibility="{Binding Converter={x:Static converter:XConverter.DocmentItemsToIrVisConvert}}"
                                                  Foreground="{DynamicResource BrowserFontSizeColor}" CommandParameter="{Binding IrList}"
                                                  Command="{Binding CommandShowIrWindow, Source={StaticResource DesignVM}}">
                                    <StackPanel Orientation="Horizontal">
                                        <Label Foreground="{DynamicResource BrowserFontSizeColor}" Content="更新记录" />
                                        <Path Width="8" Height="6" Data="M5,0 L10,10 L0,10 z"
                                                  RenderTransformOrigin="0.5,0.5" Stretch="Fill" Fill="Gray">
                                            <Path.RenderTransform>
                                                <TransformGroup>
                                                    <ScaleTransform />
                                                    <SkewTransform />
                                                    <RotateTransform Angle="180" />
                                                    <TranslateTransform />
                                                </TransformGroup>
                                            </Path.RenderTransform>
                                        </Path>
                                    </StackPanel>
                                </controls:AyImageButton>
                            </StackPanel>

                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>-->
                <!--工具栏列--><!--
                <DataGridTemplateColumn MinWidth="80" Width="100"  >
                    <DataGridTemplateColumn.Header >
                        <StackPanel>
                            <Label Content="操作"/>
                        </StackPanel>
                    </DataGridTemplateColumn.Header>
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" Margin="0 0 42 0"
                                        Visibility="Visible">
                                <controls:AyImageButton Width="40" Height="40"  Style="{DynamicResource DefaultAyImageButtonStyle}"
                                                  Visibility ="Visible" Command="{Binding CommandLoadFTP, Source={StaticResource DesignVM}}"  >
                                    <Path Data="M18.595993,30.350983L28.645996,30.350983 28.645996,31.287994 18.380005,31.287994C18.528992,31.042999 18.612,30.781982 18.612,30.510986 18.612,30.457001 18.604004,30.404999 18.595993,30.350983z M1.1579971,30.350983L11.673996,30.350983C11.668991,30.404999 11.660995,30.457001 11.660995,30.510986 11.660995,30.781982 11.73999,31.042999 11.878998,31.287994L1.1579971,31.287994z M0,10.828003L29.931,10.828003 29.931,24.515991 16.190994,24.515991 16.190994,28.639984 16.199997,28.645996C16.688004,28.975006 17.007996,29.53299 17.007996,30.166992 17.007996,31.179993 16.186996,32 15.173996,32 14.162003,32 13.341003,31.179993 13.341003,30.166992 13.341003,29.53299 13.662003,28.975006 14.149002,28.645996L14.158005,28.640991 14.158005,24.515991 0,24.515991z M0,0L12.056992,0 12.056992,3.0830078 29.931,3.0830078 29.931,6.8150024 0,6.8150024 0,3.6929932 0,3.0830078z" Stretch="Uniform" Fill="#FF6C7FC8" Width="15" Height="15" Margin="0,0,0,0" RenderTransformOrigin="0.5,0.5">
                                        <Path.RenderTransform>
                                            <TransformGroup>
                                                <TransformGroup.Children>
                                                    <RotateTransform Angle="0" />
                                                    <ScaleTransform ScaleX="-1" ScaleY="1" />
                                                </TransformGroup.Children>
                                            </TransformGroup>
                                        </Path.RenderTransform>
                                    </Path>
                                </controls:AyImageButton>
                            </StackPanel>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>-->
            </DataGrid.Columns>
        </DataGrid>    </Grid>
</UserControl>
